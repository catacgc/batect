


<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for batect, the build and testing environments as code tool">
      
      
        <link rel="canonical" href="https://batect.dev/CLIReference.html">
      
      
        <meta name="author" content="Charles Korn">
      
      <link rel="shortcut icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1, mkdocs-material-5.1.4">
    
    
      
        <title>CLI reference - batect documentation</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.c4007cdc.min.css">
      
        <link rel="stylesheet" href="assets/stylesheets/palette.8435c73a.min.css">
      
      
        
        
        <meta name="theme-color" content="#2196f3">
      
    
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="assets/3rdparty/asciinema-player.css">
    
      <link rel="stylesheet" href="assets/styles.css">
    
    
      
        
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-63947227-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview")})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    <body dir="ltr" data-md-color-primary="blue" data-md-color-accent="light-blue">
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cli-reference" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://batect.dev" title="batect documentation" class="md-header-nav__button md-logo" aria-label="batect documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            batect documentation
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              CLI reference
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header-nav__source">
        
<a href="https://github.com/batect/batect/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    batect/batect
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
        
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://batect.dev" title="batect documentation" class="md-nav__button md-logo" aria-label="batect documentation">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 003-3 3 3 0 00-3-3 3 3 0 00-3 3 3 3 0 003 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    batect documentation
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/batect/batect/" title="Go to repository" class="md-source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    batect/batect
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="index.html" title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="Setup.html" title="Setup" class="md-nav__link">
      Setup
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="GettingStarted.html" title="Getting started tutorial" class="md-nav__link">
      Getting started tutorial
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="Comparison.html" title="Comparison with other tools" class="md-nav__link">
      Comparison with other tools
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Configuration file reference
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Configuration file reference" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Configuration file reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="config/Overview.html" title="Overview" class="md-nav__link">
      Overview
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="config/ConfigVariables.html" title="Config Variables" class="md-nav__link">
      Config Variables
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="config/Containers.html" title="Containers" class="md-nav__link">
      Containers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="config/Tasks.html" title="Tasks" class="md-nav__link">
      Tasks
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        CLI reference
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 9h14V7H3v2m0 4h14v-2H3v2m0 4h14v-2H3v2m16 0h2v-2h-2v2m0-10v2h2V7h-2m0 6h2v-2h-2v2z"/></svg>
        </span>
      </label>
    
    <a href="CLIReference.html" title="CLI reference" class="md-nav__link md-nav__link--active">
      CLI reference
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run-a-task" class="md-nav__link">
    Run a task
  </a>
  
    <nav class="md-nav" aria-label="Run a task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-config-variables-from-a-file-config-vars-file" class="md-nav__link">
    Set config variables from a file (--config-vars-file)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-a-config-variable-config-var" class="md-nav__link">
    Set a config variable (--config-var)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#override-the-image-used-by-a-container-override-image" class="md-nav__link">
    Override the image used by a container (--override-image)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-cleaning-up-no-cleanup-no-cleanup-after-failure-and-no-cleanup-after-success" class="md-nav__link">
    Disable cleaning up (--no-cleanup, --no-cleanup-after-failure and --no-cleanup-after-success)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-propagation-of-proxy-related-environment-variables-no-proxy-vars" class="md-nav__link">
    Disable propagation of proxy-related environment variables (--no-proxy-vars)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-an-existing-network-for-tasks-use-network" class="md-nav__link">
    Use an existing network for tasks (--use-network)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-a-list-of-available-tasks-list-tasks-or-t" class="md-nav__link">
    See a list of available tasks (--list-tasks or -T)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup-all-caches-for-this-project-clean" class="md-nav__link">
    Cleanup all caches for this project (--clean)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-batect-upgrade" class="md-nav__link">
    Upgrade batect (--upgrade)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-help-for-batects-cli-help" class="md-nav__link">
    Get help for batect's CLI (--help)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-batect-docker-and-os-version-information-version" class="md-nav__link">
    Get batect, Docker and OS version information (--version)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-options" class="md-nav__link">
    Common options
  </a>
  
    <nav class="md-nav" aria-label="Common options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-a-non-standard-configuration-file-name-config-file-or-f" class="md-nav__link">
    Use a non-standard configuration file name (--config-file or -f)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customise-cache-storage-mechanism-cache-type" class="md-nav__link">
    Customise cache storage mechanism (--cache-type)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-cache-initialisation-image-linux-cache-init-image" class="md-nav__link">
    Set cache initialisation image (--linux-cache-init-image)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customise-docker-connection-options" class="md-nav__link">
    Customise Docker connection options
  </a>
  
    <nav class="md-nav" aria-label="Customise Docker connection options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-a-non-standard-docker-host-docker-host" class="md-nav__link">
    Use a non-standard Docker host (--docker-host)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect-to-docker-over-tls-docker-tls-and-docker-tls-verify" class="md-nav__link">
    Connect to Docker over TLS (--docker-tls and --docker-tls-verify)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customise-certificates-used-to-provide-authentication-to-daemon-and-to-verify-daemons-identity-docker-cert-path-docker-tls-ca-cert-docker-tls-cert-and-docker-tls-key" class="md-nav__link">
    Customise certificates used to provide authentication to daemon and to verify daemon's identity (--docker-cert-path, --docker-tls-ca-cert, --docker-tls-cert and --docker-tls-key)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-debugging-log-log-file" class="md-nav__link">
    Create a debugging log (--log-file)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-coloured-output-no-color" class="md-nav__link">
    Disable coloured output (--no-color)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-update-notification-no-update-notification" class="md-nav__link">
    Disable update notification (--no-update-notification)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-wrapper-cache-cleanup-no-wrapper-cache-cleanup" class="md-nav__link">
    Disable wrapper cache cleanup (--no-wrapper-cache-cleanup)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-a-particular-output-style-output-or-o" class="md-nav__link">
    Force a particular output style (--output or -o)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-notes" class="md-nav__link">
    General notes
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="TaskLifecycle.html" title="Task lifecycle" class="md-nav__link">
      Task lifecycle
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Working with languages and developer tools
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Working with languages and developer tools" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Working with languages and developer tools
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tools/DotNetCore.html" title=".NET Core" class="md-nav__link">
      .NET Core
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Docker.html" title="Docker" class="md-nav__link">
      Docker
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Golang.html" title="Golang" class="md-nav__link">
      Golang
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Gradle.html" title="Gradle" class="md-nav__link">
      Gradle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Node.html" title="Node.js" class="md-nav__link">
      Node.js
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Ruby.html" title="Ruby" class="md-nav__link">
      Ruby
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Seq.html" title="Seq" class="md-nav__link">
      Seq
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Working with CI systems
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Working with CI systems" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Working with CI systems
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tools/CIGeneral.html" title="General" class="md-nav__link">
      General
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/Buildkite.html" title="Buildkite" class="md-nav__link">
      Buildkite
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/CircleCI.html" title="CircleCI" class="md-nav__link">
      CircleCI
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/GitHubActions.html" title="GitHub Actions" class="md-nav__link">
      GitHub Actions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tools/TravisCI.html" title="Travis CI" class="md-nav__link">
      Travis CI
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Tips and tricks
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8.59 16.58L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.42z"/></svg>
      </span>
    </label>
    <nav class="md-nav" aria-label="Tips and tricks" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
        </span>
        Tips and tricks
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="tips/IDEIntegration.html" title="IDE integration" class="md-nav__link">
      IDE integration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tips/Performance.html" title="Performance" class="md-nav__link">
      Performance
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tips/BuildArtifactsOwnedByRoot.html" title="Build artifacts are owned by root" class="md-nav__link">
      Build artifacts are owned by root
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tips/WaitingForDependenciesToBeReady.html" title="Waiting for dependencies to be ready" class="md-nav__link">
      Waiting for dependencies to be ready
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tips/Proxies.html" title="Proxies" class="md-nav__link">
      Proxies
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="tips/Windows.html" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="SampleProjects.html" title="Sample projects" class="md-nav__link">
      Sample projects
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/batect/batect/releases" title="Release notes" class="md-nav__link">
      Release notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="https://github.com/batect/batect/blob/master/ROADMAP.md" title="Roadmap" class="md-nav__link">
      Roadmap
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#run-a-task" class="md-nav__link">
    Run a task
  </a>
  
    <nav class="md-nav" aria-label="Run a task">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#set-config-variables-from-a-file-config-vars-file" class="md-nav__link">
    Set config variables from a file (--config-vars-file)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-a-config-variable-config-var" class="md-nav__link">
    Set a config variable (--config-var)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#override-the-image-used-by-a-container-override-image" class="md-nav__link">
    Override the image used by a container (--override-image)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-cleaning-up-no-cleanup-no-cleanup-after-failure-and-no-cleanup-after-success" class="md-nav__link">
    Disable cleaning up (--no-cleanup, --no-cleanup-after-failure and --no-cleanup-after-success)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-propagation-of-proxy-related-environment-variables-no-proxy-vars" class="md-nav__link">
    Disable propagation of proxy-related environment variables (--no-proxy-vars)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#use-an-existing-network-for-tasks-use-network" class="md-nav__link">
    Use an existing network for tasks (--use-network)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#see-a-list-of-available-tasks-list-tasks-or-t" class="md-nav__link">
    See a list of available tasks (--list-tasks or -T)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#cleanup-all-caches-for-this-project-clean" class="md-nav__link">
    Cleanup all caches for this project (--clean)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#upgrade-batect-upgrade" class="md-nav__link">
    Upgrade batect (--upgrade)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-help-for-batects-cli-help" class="md-nav__link">
    Get help for batect's CLI (--help)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#get-batect-docker-and-os-version-information-version" class="md-nav__link">
    Get batect, Docker and OS version information (--version)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#common-options" class="md-nav__link">
    Common options
  </a>
  
    <nav class="md-nav" aria-label="Common options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-a-non-standard-configuration-file-name-config-file-or-f" class="md-nav__link">
    Use a non-standard configuration file name (--config-file or -f)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customise-cache-storage-mechanism-cache-type" class="md-nav__link">
    Customise cache storage mechanism (--cache-type)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#set-cache-initialisation-image-linux-cache-init-image" class="md-nav__link">
    Set cache initialisation image (--linux-cache-init-image)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customise-docker-connection-options" class="md-nav__link">
    Customise Docker connection options
  </a>
  
    <nav class="md-nav" aria-label="Customise Docker connection options">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#use-a-non-standard-docker-host-docker-host" class="md-nav__link">
    Use a non-standard Docker host (--docker-host)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#connect-to-docker-over-tls-docker-tls-and-docker-tls-verify" class="md-nav__link">
    Connect to Docker over TLS (--docker-tls and --docker-tls-verify)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customise-certificates-used-to-provide-authentication-to-daemon-and-to-verify-daemons-identity-docker-cert-path-docker-tls-ca-cert-docker-tls-cert-and-docker-tls-key" class="md-nav__link">
    Customise certificates used to provide authentication to daemon and to verify daemon's identity (--docker-cert-path, --docker-tls-ca-cert, --docker-tls-cert and --docker-tls-key)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-debugging-log-log-file" class="md-nav__link">
    Create a debugging log (--log-file)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-coloured-output-no-color" class="md-nav__link">
    Disable coloured output (--no-color)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-update-notification-no-update-notification" class="md-nav__link">
    Disable update notification (--no-update-notification)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#disable-wrapper-cache-cleanup-no-wrapper-cache-cleanup" class="md-nav__link">
    Disable wrapper cache cleanup (--no-wrapper-cache-cleanup)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#force-a-particular-output-style-output-or-o" class="md-nav__link">
    Force a particular output style (--output or -o)
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general-notes" class="md-nav__link">
    General notes
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/batect/batect/edit/master/docs/content/CLIReference.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                  
                
                
                <h1 id="cli-reference">CLI reference<a class="headerlink" href="#cli-reference" title="Permanent link">&para;</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This page reflects the options available in the <a href="https://github.com/batect/batect/releases/latest">most recent version</a>
of batect.</p>
<p>If you are not running the most recent version, run <code>./batect --help</code> to see what options are available in your version.</p>
</div>
<h2 id="run-a-task">Run a task<a class="headerlink" href="#run-a-task" title="Permanent link">&para;</a></h2>
<p>Run a task by running <code>./batect &lt;task-name&gt;</code>. For example, to run <code>the-task</code>, run <code>./batect the-task</code>.</p>
<p>You can also pass arguments to the task command by passing those arguments by running <code>./batect &lt;task-name&gt; -- &lt;args...&gt;</code>.
For example, to run the task <code>the-task</code> with the arguments <code>arg1 arg2</code>, run <code>./batect the-task -- arg1 arg2</code>.</p>
<h3 id="set-config-variables-from-a-file-config-vars-file">Set config variables from a file <small>(<code>--config-vars-file</code>)</small><a class="headerlink" href="#set-config-variables-from-a-file-config-vars-file" title="Permanent link">&para;</a></h3>
<p>By default, batect will automatically apply values for <a href="config/ConfigVariables.html">config variables</a> from the YAML file <code>batect.local.yml</code>
if it exists.</p>
<p>Use <code>--config-vars-file</code> to specify a different file to use.</p>
<p>Values provided with <a href="#set-a-config-variable-config-var"><code>--config-var</code></a> take precedence over values provided in any file.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --config-vars-file batect.ci.yml the-task
</code></pre></div>

<p>Example <code>batect.ci.yml</code> contents:</p>
<div class="highlight"><pre><span></span><code><span class="nt">log_level</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">debug</span>
<span class="nt">user_name</span><span class="p">:</span> <span class="l l-Scalar l-Scalar-Plain">alex</span>
</code></pre></div>

<h3 id="set-a-config-variable-config-var">Set a config variable <small>(<code>--config-var</code>)</small><a class="headerlink" href="#set-a-config-variable-config-var" title="Permanent link">&para;</a></h3>
<p>Use <code>--config-vars</code> to specify values for an individual <a href="config/ConfigVariables.html">config variable</a>.</p>
<p>Values must be in the format <code>&lt;variable name&gt;=&lt;variable value&gt;</code>.</p>
<p>Values provided with <code>--config-var</code> take precedence over values provided in a file (either explicitly with
<a href="#set-config-variables-from-a-file-config-vars-file"><code>--config-vars-file</code></a> or from the default <code>batect.local.yml</code> file)
and default values defined in the configuration file.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --config-var <span class="nv">log_level</span><span class="o">=</span>debug the-task
</code></pre></div>

<h3 id="override-the-image-used-by-a-container-override-image">Override the image used by a container <small>(<code>--override-image</code>)</small><a class="headerlink" href="#override-the-image-used-by-a-container-override-image" title="Permanent link">&para;</a></h3>
<p>By default, batect will use the image defined in the configuration file (either with <a href="config/Containers.html#image"><code>image</code></a> or <a href="config/Containers.html#build_directory"><code>build_directory</code></a>).</p>
<p>Use this option to override the value in the configuration file and use a different image for a specific container.</p>
<p>Values must be in the format <code>&lt;container name&gt;=&lt;image&gt;</code>.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --override-image build-env<span class="o">=</span>ruby:2.7.0 the-task
</code></pre></div>

<h3 id="disable-cleaning-up-no-cleanup-no-cleanup-after-failure-and-no-cleanup-after-success">Disable cleaning up <small>(<code>--no-cleanup</code>, <code>--no-cleanup-after-failure</code> and <code>--no-cleanup-after-success</code>)</small><a class="headerlink" href="#disable-cleaning-up-no-cleanup-no-cleanup-after-failure-and-no-cleanup-after-success" title="Permanent link">&para;</a></h3>
<p>By default, batect will automatically cleanup all containers and other resources it creates while running a task.
However, sometimes it can be useful to leave all the created containers running to diagnose issues running a task.</p>
<ul>
<li>Use <code>--no-cleanup-after-failure</code> to not clean up if any task fails to start for any reason.</li>
<li>Use <code>--no-cleanup-after-success</code> to not clean up the containers and other resources created for the main task (the one specified on the command line) if it succeeds.</li>
<li>Use <code>--no-cleanup</code> to enable both of the above.</li>
</ul>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --no-cleanup-after-failure the-task
</code></pre></div>

<h3 id="disable-propagation-of-proxy-related-environment-variables-no-proxy-vars">Disable propagation of proxy-related environment variables <small>(<code>--no-proxy-vars</code>)</small><a class="headerlink" href="#disable-propagation-of-proxy-related-environment-variables-no-proxy-vars" title="Permanent link">&para;</a></h3>
<p>By default, batect will automatically propagate proxy-related environment variables as described <a href="tips/Proxies.html">here</a>.
Use this option to disable this behaviour.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --no-proxy-vars the-task
</code></pre></div>

<h3 id="use-an-existing-network-for-tasks-use-network">Use an existing network for tasks <small>(<code>--use-network</code>)</small><a class="headerlink" href="#use-an-existing-network-for-tasks-use-network" title="Permanent link">&para;</a></h3>
<p>By default, batect will create a new Docker network for each task, as described in <a href="TaskLifecycle.html">the task lifecycle</a>.
Use this option to provide an existing network to use for all tasks.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --use-network<span class="o">=</span>my-existing-network the-task
</code></pre></div>

<h2 id="see-a-list-of-available-tasks-list-tasks-or-t">See a list of available tasks <small>(<code>--list-tasks</code> or <code>-T</code>)</small><a class="headerlink" href="#see-a-list-of-available-tasks-list-tasks-or-t" title="Permanent link">&para;</a></h2>
<p>batect can produce a short summary of all tasks in the current configuration file along with their
<a href="config/Tasks.html#description"><code>description</code></a>, and grouped by their <a href="config/Tasks.html#group"><code>group</code></a>.</p>
<p>For example, <code>./batect --list-tasks</code> produces output like this:</p>
<div class="highlight"><pre><span></span><code>Build tasks:
- build: Build the application.

Test tasks:
- continuousUnitTest: Run the unit tests in watch mode.
- unitTest: Run the unit tests once.

Utility tasks:
- outdated: Check for outdated dependencies.
- shell: Start a shell in the development environment.
</code></pre></div>

<h2 id="cleanup-all-caches-for-this-project-clean">Cleanup all caches for this project <small>(<code>--clean</code>)</small><a class="headerlink" href="#cleanup-all-caches-for-this-project-clean" title="Permanent link">&para;</a></h2>
<p>Running <code>./batect --clean</code> will remove all caches created for this project.</p>
<p>This command respects the value of the <a href="#customise-cache-storage-mechanism-cache-type"><code>--cache-type</code></a> option and the <code>BATECT_CACHE_TYPE</code> environment variable.</p>
<h2 id="upgrade-batect-upgrade">Upgrade batect <small>(<code>--upgrade</code>)</small><a class="headerlink" href="#upgrade-batect-upgrade" title="Permanent link">&para;</a></h2>
<p>Running <code>./batect --upgrade</code> will automatically upgrade batect in the current project to the latest
available version.</p>
<h2 id="get-help-for-batects-cli-help">Get help for batect's CLI <small>(<code>--help</code>)</small><a class="headerlink" href="#get-help-for-batects-cli-help" title="Permanent link">&para;</a></h2>
<p>Running <code>./batect --help</code> will show a summary of the options available on the command line.</p>
<h2 id="get-batect-docker-and-os-version-information-version">Get batect, Docker and OS version information <small>(<code>--version</code>)</small><a class="headerlink" href="#get-batect-docker-and-os-version-information-version" title="Permanent link">&para;</a></h2>
<p>Running <code>./batect --version</code> will show a summary of the versions of batect, Docker and your operating
system, which can be useful when diagnosing issues with batect.</p>
<h2 id="common-options">Common options<a class="headerlink" href="#common-options" title="Permanent link">&para;</a></h2>
<h3 id="use-a-non-standard-configuration-file-name-config-file-or-f">Use a non-standard configuration file name <small>(<code>--config-file</code> or <code>-f</code>)</small><a class="headerlink" href="#use-a-non-standard-configuration-file-name-config-file-or-f" title="Permanent link">&para;</a></h3>
<p>By default, batect will use a configuration file called <code>batect.yml</code> in the current directory.
Use this option to instruct batect to use a different file.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --config-file my-other-config-file.yml the-task
</code></pre></div>

<h3 id="customise-cache-storage-mechanism-cache-type">Customise cache storage mechanism <small>(<code>--cache-type</code>)</small><a class="headerlink" href="#customise-cache-storage-mechanism-cache-type" title="Permanent link">&para;</a></h3>
<p>By default, batect will use a Docker volume for each <a href="tips/Performance.html#cache-volumes">cache mount</a> for Linux containers.
Use this option to instruct batect to use a different storage mechanism.</p>
<p>Supported values are:</p>
<ul>
<li><code>volume</code>: use Docker volumes</li>
<li><code>directory</code>: use directories mounted from the project's <code>.batect/caches</code> directory</li>
</ul>
<p>The <code>BATECT_CACHE_TYPE</code> environment variable can also be used to set the default cache type. If both the environment
variable and the <code>--cache-type</code> option are set, the value given with <code>--cache-type</code> takes precedence.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>This option has no effect on Windows containers. Windows containers always use directory mounts for caches.</p>
</div>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --cache-type<span class="o">=</span>directory the-task
</code></pre></div>

<h3 id="set-cache-initialisation-image-linux-cache-init-image">Set cache initialisation image <small>(<code>--linux-cache-init-image</code>)</small><a class="headerlink" href="#set-cache-initialisation-image-linux-cache-init-image" title="Permanent link">&para;</a></h3>
<p>batect uses <a href="https://github.com/batect/batect-cache-init-image">an image</a> to initialise cache volumes before they are mounted.
Use this option to override the default image. This is useful if you have cached the initialisation image on a local registry.</p>
<p>The <code>BATECT_LINUX_CACHE_INIT_IMAGE</code> environment variable can also be used to set the default initialisation image. If both the environment
variable and the <code>--linux-cache-init-image</code> option are set, the value given with <code>--linux-cache-init-image</code> takes precedence.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --linux-cache-init-image<span class="o">=</span>my.registry.com/batect-cache-init-image:abcd1234 the-task
</code></pre></div>

<h3 id="customise-docker-connection-options">Customise Docker connection options<a class="headerlink" href="#customise-docker-connection-options" title="Permanent link">&para;</a></h3>
<h4 id="use-a-non-standard-docker-host-docker-host">Use a non-standard Docker host <small>(<code>--docker-host</code>)</small><a class="headerlink" href="#use-a-non-standard-docker-host-docker-host" title="Permanent link">&para;</a></h4>
<p>By default, batect will connect to the Docker daemon using the path provided in the <code>DOCKER_HOST</code> environment variable, or
the default path for your operating system if <code>DOCKER_HOST</code> is not set. Use this option to instruct batect to use a different path.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --docker-host unix:///var/run/other-docker.sock the-task
</code></pre></div>

<h4 id="connect-to-docker-over-tls-docker-tls-and-docker-tls-verify">Connect to Docker over TLS <small>(<code>--docker-tls</code> and <code>--docker-tls-verify</code>)</small><a class="headerlink" href="#connect-to-docker-over-tls-docker-tls-and-docker-tls-verify" title="Permanent link">&para;</a></h4>
<p>By default, the Docker daemon only accepts plaintext connections from the local machine. If your daemon requires TLS, use the <code>--docker-tls-verify</code> option
to instruct batect to use TLS. batect will also automatically enable this option if the <code>DOCKER_TLS_VERIFY</code> environment variable is set to <code>1</code>.</p>
<p>If your daemon presents a certificate that does not match its hostname, use the <code>--docker-tls</code> option (without <code>--docker-tls-verify</code>) to instruct
batect to not verify the hostname.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Using <code>--docker-tls</code> without <code>--docker-tls-verify</code> is insecure and should only be used if you understand the implications of this.</p>
</div>
<p>These options mirror the behaviour of the <code>docker</code> CLI's <code>--tls</code> and <code>--tlsverify</code> options.</p>
<h4 id="customise-certificates-used-to-provide-authentication-to-daemon-and-to-verify-daemons-identity-docker-cert-path-docker-tls-ca-cert-docker-tls-cert-and-docker-tls-key">Customise certificates used to provide authentication to daemon and to verify daemon's identity <small>(<code>--docker-cert-path</code>, <code>--docker-tls-ca-cert</code>, <code>--docker-tls-cert</code> and <code>--docker-tls-key</code>)</small><a class="headerlink" href="#customise-certificates-used-to-provide-authentication-to-daemon-and-to-verify-daemons-identity-docker-cert-path-docker-tls-ca-cert-docker-tls-cert-and-docker-tls-key" title="Permanent link">&para;</a></h4>
<p>If your Docker daemon requires TLS, batect needs three files in order to connect to it:</p>
<ul>
<li>the CA certificate that can be used to verify certificates presented by the Docker daemon (<code>--docker-tls-ca-cert</code>)</li>
<li>the certificate that can be used to prove your identity to the Docker daemon (<code>--docker-tls-cert</code>) and corresponding private key (<code>--docker-tls-key</code>)</li>
</ul>
<p>By default, these files are stored in <code>~/.docker</code> and are named <code>ca.pem</code>, <code>cert.pem</code> and <code>key.pem</code> respectively.</p>
<p>You can instruct batect use a non-default location for any of these files with the options mentioned above, or override the default directory for these
files with <code>--docker-cert-path</code>. If the <code>DOCKER_CERT_PATH</code> environment variable is set, batect will use that as the default directory.</p>
<p>If both <code>--docker-cert-path</code> (or <code>DOCKER_CERT_PATH</code>) and a path for an individual file is provided, the path for the individual file takes precedence.</p>
<p>These options mirror the behaviour of the <code>docker</code> CLI's <code>--tlscacert</code>, <code>--tlscert</code> and <code>--tlskey</code> options.</p>
<h3 id="create-a-debugging-log-log-file">Create a debugging log <small>(<code>--log-file</code>)</small><a class="headerlink" href="#create-a-debugging-log-log-file" title="Permanent link">&para;</a></h3>
<p>Use this option to instruct batect to generate a debugging log at the specified path as it runs. This may be requested if you submit an issue.</p>
<p>If the log file already exists, batect will append further log messages to the end of the file.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --log-file /tmp/debugging-log.json the-task
</code></pre></div>

<h3 id="disable-coloured-output-no-color">Disable coloured output <small>(<code>--no-color</code>)</small><a class="headerlink" href="#disable-coloured-output-no-color" title="Permanent link">&para;</a></h3>
<p>By default, batect will produce coloured output if it detects that your console supports it. However, sometimes batect may incorrectly
believe your console supports coloured output, or your console may incorrectly report that it supports coloured output when it does not.
(This is a common issue with some CI systems.) This can lead to garbled or difficult to read output.</p>
<p>Passing this flag will disable all coloured output, even if batect believes your console supports it.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --no-color the-task
</code></pre></div>

<h3 id="disable-update-notification-no-update-notification">Disable update notification <small>(<code>--no-update-notification</code>)</small><a class="headerlink" href="#disable-update-notification-no-update-notification" title="Permanent link">&para;</a></h3>
<p>batect automatically checks for updates at most once every 24 hours and displays a notification if a newer version is available.</p>
<p>Passing this flag will disable both the update check and notification.</p>
<h3 id="disable-wrapper-cache-cleanup-no-wrapper-cache-cleanup">Disable wrapper cache cleanup <small>(<code>--no-wrapper-cache-cleanup</code>)</small><a class="headerlink" href="#disable-wrapper-cache-cleanup-no-wrapper-cache-cleanup" title="Permanent link">&para;</a></h3>
<p>batect automatically removes old versions of itself that have been downloaded and cached locally if they haven't been used in 30 days.</p>
<p>Passing this flag will disable this cleanup process. You can manually remove these files from <code>~/.batect/cache</code> yourself at any time.</p>
<h3 id="force-a-particular-output-style-output-or-o">Force a particular output style <small>(<code>--output</code> or <code>-o</code>)</small><a class="headerlink" href="#force-a-particular-output-style-output-or-o" title="Permanent link">&para;</a></h3>
<p>batect offers four styles of output:</p>
<ul>
<li>
<p><code>fancy</code> is best for interactive use, providing very clean output about the current state of execution and showing output from only the task container</p>
<p><asciinema-player src="/assets/outputstyles/fancy.cast" cols="204" rows="20" preload="true" poster="npt:2.5"></asciinema-player></p>
</li>
<li>
<p><code>simple</code> is best for non-interactive use (eg. on CI), providing a log of what happened and showing output from only the task container</p>
<p><asciinema-player src="/assets/outputstyles/simple.cast" cols="204" rows="20" preload="true" poster="npt:2.5"></asciinema-player></p>
</li>
<li>
<p><code>all</code> displays output from all containers</p>
<p><asciinema-player src="/assets/outputstyles/interleaved.cast" cols="204" rows="20" preload="true" poster="npt:4"></asciinema-player></p>
</li>
<li>
<p><code>quiet</code> displays only the output from the task and error messages from batect</p>
<p><asciinema-player src="/assets/outputstyles/quiet.cast" cols="204" rows="20" preload="true" poster="npt:7"></asciinema-player></p>
</li>
</ul>
<p>There are some differences between these output styles to be aware of:</p>
<table>
<thead>
<tr>
<th>Output style</th>
<th><code>fancy</code></th>
<th><code>simple</code></th>
<th><code>quiet</code></th>
<th><code>all</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Progress information</td>
<td>Detailed (eg. download % completed, health check status)</td>
<td>Basic (eg. image pull started, container ready)</td>
<td>Errors only</td>
<td>Basic (eg. image pull started, container ready)</td>
</tr>
<tr>
<td>Displays output from</td>
<td>Task container only</td>
<td>Task container only</td>
<td>Task container only</td>
<td>All containers</td>
</tr>
<tr>
<td>stdin connected (if present)</td>
<td>Yes, to task container only</td>
<td>Yes, to task container only</td>
<td>Yes, to task container only</td>
<td>No</td>
</tr>
<tr>
<td>TTY connected (if present)</td>
<td>Yes, to task container only</td>
<td>Yes, to task container only</td>
<td>Yes, to task container only</td>
<td>No</td>
</tr>
<tr>
<td>Image build output shown</td>
<td>Only on build failure</td>
<td>Only on build failure</td>
<td>Only on build failure</td>
<td>Always</td>
</tr>
</tbody>
</table>
<p>By default, batect will automatically pick an output style that it believes is appropriate for the environment it is running in -
<code>fancy</code> if it believes your environment supports it, or <code>simple</code> otherwise.</p>
<p>Passing this flag allows you to override what batect believes is appropriate.</p>
<p>Example:</p>
<div class="highlight"><pre><span></span><code>./batect --output simple the-task
</code></pre></div>

<h2 id="general-notes">General notes<a class="headerlink" href="#general-notes" title="Permanent link">&para;</a></h2>
<ul>
<li>All command line options that take a value can be provided in <code>--option=value</code> or <code>--option value</code> format.</li>
</ul>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="config/Tasks.html" title="Tasks" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Tasks
              </div>
            </div>
          </a>
        
        
          <a href="TaskLifecycle.html" title="Task lifecycle" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Task lifecycle
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017-2020 Charles Korn. Documentation uses <a href="https://twemoji.twitter.com/">Twemoji</a>, licensed under the CC-BY 4.0 license.
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
  <div class="md-footer-social">
    
      
      
      <a href="https://github.com/batect/batect" target="_blank" rel="noopener" title="github.com" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
      </a>
    
      
      
      <a href="https://spectrum.chat/batect" target="_blank" rel="noopener" title="spectrum.chat" class="md-footer-social__link">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"/></svg>
      </a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="assets/javascripts/vendor.83fe6e3c.min.js"></script>
      <script src="assets/javascripts/bundle.7e1cb91c.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents"}</script>
      
      <script>
        app = initialize({
          base: ".",
          features: [],
          search: Object.assign({
            worker: "assets/javascripts/worker/search.37585f48.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="assets/3rdparty/asciinema-player.js"></script>
      
    
  </body>
</html>